{% extends "base_generic.html" %}

{% block content %}
    {% if form.errors %}
        <p>Your username and password didn't match. Please try again.</p>
    {% endif %}
    
    {% if next %}
      {% if user.is_authenticated %}
        <p>Your account doesn't have access to this page. To proceed,
        please login with an account that has access.</p>
      {% else %}
        <p>Please login to see this page.</p>
      {% endif %}
    {% endif %}

    <div class="container-fluid">
    <div class="row" style="align-items:center; justify-content:space-around; display:flex">
        <div class="col-md-4">
            <div class="page-header">
                <h1>Login</h1>
            </div>
            
            <form role="form" method="post" action="{% url 'login' %}">
                {% csrf_token %}
                
                <input type="hidden" name="next" value="{{ next }}"/> 
                
                <div class="form-group">                     
                    <label for="{{ form.username.id_for_label }}">
                        Username
                    </label>
                    <input type="username" class="form-control" name="{{ form.username.name }}"
                        id="{{ form.username.id_for_label }}" 
                        name="{{ form.username.name }}" placeholder="Username"
                        autocomplete="username">
                            {{ form.username.text }}
                    </input>
                </div>
                
                <div class="form-group">
                    <label for="{{ form.password.id_for_label }}">
                        Password
                    </label>
                    <input type="password" class="form-control" name="{{ form.password.name }}"
                        id="{{ form.password.id_for_label }}"
                        autocomplete="current-password" required="" placeholder="Password">
                            {{ form.password.text }}
                    </input>                    
                </div>
                
                <!--<div class="checkbox">-->
                     
                    <!--<label>-->
                        <!--<input type="checkbox"> Check me out-->
                    <!--</label>-->
                <!--</div> -->

            <div class="row">
                <div class="col-md-6">
                    <button type="submit" class="btn btn-primary">
                        Sign In
                    </button>
                </div>                
                <div class="col-md-6">
                    <a href="{% url 'password_reset' %}" class="btn btn-secondary" type="button">
                        Lost password?
                    </a>
                </div>
            </div>
            </form>
            
        </div>
    </div>
    </div>
{% endblock %}
